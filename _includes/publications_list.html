{% assign items = site.publications | sort: "date" | reverse %}

<!-- Reviews Section -->
{% assign reviews = items | where: "category", "reviews" %}
{% if reviews.size > 0 %}
<h2>Review Articles</h2>
<ol class="teaching-bullets">
  {% for item in reviews %}
  <li>
    {% if item.authors %}
      {% capture formatted_authors %}
        {% include components/author-list.html item=item %}
      {% endcapture %}
      {{ formatted_authors | strip }}  
    {% endif %}
    ({{ item.date | date: "%Y" }}). 
    <em>{{ item.title }}</em>. 
    {% if item.venue_article %}{{ item.venue_article | capitalize }} {% endif %}{% if item.venue %}{{ item.venue }}{% endif %}{% if item.volume and item.pages %}, {{ item.volume }}:{{ item.pages }}{% elsif item.volume %}, {{ item.volume }}{% elsif item.pages %}, {{ item.pages }}{% endif %}{% if item.place %}, {{ item.place }}{% endif %}. 
    {% if item.paperurl %}<a href="{{ item.paperurl }}">{{ item.paperurl }}</a>{% endif %}
  </li>
  {% endfor %}
</ol>
{% endif %}

<!-- Journal Articles Section -->
{% assign journals = items | where: "category", "journals" %}
{% if journals.size > 0 %}
<h2>Journal Articles</h2>
<ol class="teaching-bullets">
  {% for item in journals %}
  <li>
    {% if item.authors %}
      {% capture formatted_authors %}
        {% include components/author-list.html item=item %}
      {% endcapture %}
      {{ formatted_authors | strip }}  
    {% endif %}
    ({{ item.date | date: "%Y" }}). 
    <em>{{ item.title }}</em>. 
    {% if item.venue_article %}{{ item.venue_article | capitalize }} {% endif %}{% if item.venue %}{{ item.venue }}{% endif %}{% if item.volume and item.pages %}, {{ item.volume }}:{{ item.pages }}{% elsif item.volume %}, {{ item.volume }}{% elsif item.pages %}, {{ item.pages }}{% endif %}{% if item.place %}, {{ item.place }}{% endif %}. 
    {% if item.paperurl %}<a href="{{ item.paperurl }}">{{ item.paperurl }}</a>{% endif %}
  </li>
  {% endfor %}
</ol>
{% endif %}

<!-- Conference Presentations Section -->
{% assign conferences = items | where: "category", "conferences" %}
{% if conferences.size > 0 %}
<h2>Conference Presentations</h2>
<ol class="teaching-bullets">
  {% for item in conferences %}
  <li>
    {% if item.authors %}
      {% capture formatted_authors %}
        {% include components/author-list.html item=item %}
      {% endcapture %}
      {{ formatted_authors | strip }}  
    {% endif %}
    <em>{{ item.title }}</em>. 
    {% if item.prize %}<u>{{ item.prize }}</u> at {% elsif item.presentation_type %}{{ item.presentation_type }} at {% endif %}{% if item.venue_article %}{{ item.venue_article }} {% endif %}{% if item.venue %}{{ item.venue }}{% endif %}{% if item.place %}, {{ item.place }}{% endif %}{% if item.date %}, {{ item.date | date: "%-d %B %Y" }}{% endif %}. 
    {% if item.paperurl %}<a href="{{ item.paperurl }}">{{ item.paperurl }}</a>{% endif %}
  </li>
  {% endfor %}
</ol>
{% endif %}
